<html>
<head>
    <style>
        body{
            background-color: white;
        }
        #cy {
            width: 100%;
            height: 100%;
            display: block;
        }
    </style>
    <script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=Promise,fetch"></script>
    <script src="cytoscape.js"></script>
    <script src="cytoscape-cose-bilkent.js"></script>
</head>
<body>
<div id="cy"></div>
<script>
    fetch('data.json', {mode: 'no-cors'})
        .then(function (res) {
            return res.json();
        })
        .then(function (data) {
            var cy = cytoscape({

                container: document.getElementById('cy'), // container to render in

                elements: data,

                style: [ // the stylesheet for the graph
                    {
                        selector: 'node',
                        style: {
                            'label': 'data(label)',
                            'width': 20,
                            'height': 20,
                            'text-valign': 'center',
                            'color': 'white',
                            'text-outline-width': 2,
                            'text-outline-color': 'black',
                            'background-color': 'black',
                            'font-size':"mapData(depth, 1, 3, 8, 6)",
                            'width':"mapData(depth, 1, 3, 30, 10)",
                            'height':"mapData(depth, 1, 3, 30, 10)"
                        }
                    },
                    {
                        selector: 'edge',
                        style: {
                            'curve-style': 'bezier',
                            'width': 1,
                            'target-arrow-shape': 'triangle',
                            'line-color': 'black',
                            'target-arrow-color': 'black',
                            'opacity':0.9
                        }
                    }
                ],

                layout: {
                    name: 'cose-bilkent',
                    animate: false,
                    gravityRangeCompound: 1.5,
                    fit: true,
                    idealEdgeLength: 100,
                    tile: true,
                    padding:30

                }

            });
            cy.on('tap', 'node', function (e) {
                window.open(cy.getElementById(this.id()).data('url'));
            });
        });


</script>
</body>
</html>